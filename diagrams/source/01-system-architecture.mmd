graph TB
    subgraph "User Interface"
        A[Web Browser]
        A1[Landing Page]
        A2[Analyze Page]
        A3[Dashboard Page]
    end

    subgraph "Next.js Application Layer"
        B[Next.js App Router]
        B1[Server Components]
        B2[Client Components]
        B3[API Routes]
    end

    subgraph "Business Logic Layer"
        C1[Video Manager]
        C2[Analysis Engine]
        C3[Spot Value Calculator]
        C4[Recommendation Engine]
    end

    subgraph "External AI Services"
        D1[Twelve Labs API]
        D1a[Video Indexing]
        D1b[Semantic Search]
        D1c[Content Generation]
        D2[OpenAI GPT-4]
        D2a[Product Matching]
        D2b[Revenue Projection]
    end

    subgraph "Data Layer"
        E1[PostgreSQL Database]
        E2[Drizzle ORM]
        E3[Neon Serverless]
    end

    subgraph "Storage & CDN"
        F1[Twelve Labs Storage]
        F2[HLS Video CDN]
    end

    A --> A1 & A2 & A3
    A1 & A2 & A3 --> B
    B --> B1 & B2 & B3
    B3 --> C1 & C2 & C3 & C4
    
    C1 --> D1a
    C2 --> D1b & D1c
    C4 --> D2a & D2b
    C3 --> C3
    
    C1 & C2 & C4 --> E2
    E2 --> E1
    E1 -.-> E3
    
    D1a & D1b & D1c --> F1
    F1 --> F2
    F2 -.-> A

    style A fill:#4A90E2
    style D1 fill:#50C878
    style D2 fill:#50C878
    style E1 fill:#FF6B6B
    style F1 fill:#FFD700
